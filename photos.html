<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-REBLDRBN4N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-REBLDRBN4N');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | Team 4054</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <link rel="icon" type="image/x-icon" href="/Images/favicon.png">

    <style>
        /* --- Dark Mode Styles --- */
        body {
            background-color: #1c1c1c; /* Dark Background */
            color: #ffffff; /* White Text */
        }

        /* --- "Puzzle" (Masonry) Gallery Layout --- */
        .gallery-grid {
            column-count: 3;
            column-gap: 15px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Responsive columns */
        @media (max-width: 900px) {
            .gallery-grid { column-count: 2; }
        }
        @media (max-width: 600px) {
            .gallery-grid { column-count: 1; }
        }

        .gallery-item {
            break-inside: avoid-column;
            margin-bottom: 15px; 
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3); /* Slightly darker shadow for dark mode */
            background: #333; /* Darker placeholder color while loading */
        }

        .gallery-item img {
            width: 100%;
            height: auto; 
            display: block;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .gallery-item img:hover {
            transform: scale(1.03);
        }

        /* --- Lightbox Styles --- */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: rgba(0,0,0,0.95);
        }

        .lightbox-content-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 4px;
            animation: zoom 0.3s;
        }

        @keyframes zoom {
            from {transform:scale(0.9); opacity: 0;} 
            to {transform:scale(1); opacity: 1;}
        }

        /* UI Buttons */
        .close-btn {
            position: absolute;
            top: 15px;
            right: 25px;
            color: #f1f1f1;
            font-size: 45px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2002;
            line-height: 1;
        }

        /* Navigation Buttons */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            border: none;
            font-size: 2rem;
            padding: 15px 20px;
            cursor: pointer;
            z-index: 2001;
            transition: 0.3s;
            border-radius: 8px;
            user-select: none;
        }

        .nav-btn:hover { background-color: rgba(255, 255, 255, 0.2); }
        .prev-btn { left: 10px; }
        .next-btn { right: 10px; }

        @media (max-width: 600px) {
             .nav-btn { padding: 10px 15px; font-size: 1.5rem; }
             .prev-btn { left: 5px; }
             .next-btn { right: 5px; }
             .close-btn { right: 15px; top: 10px;}
        }
    </style>
</head>
<body>

    <header>
        <nav>
            <div class="logo"><a href="index.html">La Crosse <span>Robotics</span></a></div>
            
            <div class="menu-toggle" id="mobile-menu"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div>
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="sponsors.html">Sponsors</a></li>
                <li><a href="photos.html">Photos</a></li>
            </ul>
        </nav>
    </header>

    <div class="hero small">
        <div class="hero-content">
            <h1>Competition Gallery</h1>
            <p>Highlights from the Seven Rivers Regional and beyond.</p>
        </div>
    </div>

    <section>
        <div class="gallery-grid">
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/4b383238-d569-42f4-ebb6-939a17b26300/public" loading="lazy" alt="Team Photo 1"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/0df305b3-d2a9-4ed4-2bbf-76ca3dea4600/public" loading="lazy" alt="Team Photo 2"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/24dc36ec-8187-4d1f-4203-23508a9ab300/public" loading="lazy" alt="Team Photo 3"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/ca4c5999-f1a9-4127-834c-8e6450c97200/public" loading="lazy" alt="Team Photo 4"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/9d911dfb-8178-4717-4d76-a72b432c4700/public" loading="lazy" alt="Team Photo 5"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/e79b5c06-6fc0-4c51-9380-f0568c7f0800/public" loading="lazy" alt="Team Photo 6"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/678b6f7a-7946-46af-be6e-dee85da23200/public" loading="lazy" alt="Team Photo 7"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/ea23cdea-b8aa-426f-8e40-7c5626a1d000/public" loading="lazy" alt="Team Photo 8"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/1242b9c4-b06b-4106-030e-571fda5e1900/public" loading="lazy" alt="Team Photo 9"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/55696293-47be-4383-c993-d9ff334c2300/public" loading="lazy" alt="Team Photo 10"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/cb25b024-a017-481c-4115-37b86bf1b200/public" loading="lazy" alt="Team Photo 11"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/e433bd17-a6ac-44ae-7b3f-1e8bac3db400/public" loading="lazy" alt="Team Photo 12"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/703b71fd-dadc-43a1-669a-ac9210a5bb00/public" loading="lazy" alt="Team Photo 13"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/de6800ee-c812-4027-3d28-3c8de1ce5700/public" loading="lazy" alt="Team Photo 14"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/349a0e7a-7436-4d54-42ab-7741008f4e00/public" loading="lazy" alt="Team Photo 15"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/b5081598-4871-4f5d-2d68-de2d8ce1d200/public" loading="lazy" alt="Team Photo 16"></div>
            <div class="gallery-item"><img src="https://imagedelivery.net/CaN6tPHwuX-NOcXEjJG0lg/bef4d028-16af-4489-4d5f-1e7c650a9f00/public" loading="lazy" alt="Team Photo 17"></div>
        </div>
    </section>

    <footer id="contact">
        <h3>La Crosse Robotics | Team 4054</h3>
        <p>School District of La Crosse</p>
        <p>&copy; 2025 The Aeronauts. All Rights Reserved.</p>
    </footer>

    <div id="lightbox" class="lightbox">
        <span class="close-btn">&times;</span>
        
        <button class="nav-btn prev-btn">&#10094;</button> <button class="nav-btn next-btn">&#10095;</button> <div class="lightbox-content-wrapper">
             <img class="lightbox-content" id="lightbox-img">
        </div>
    </div>

    <script>
        // DOM Elements
        const modal = document.getElementById("lightbox");
        const modalImg = document.getElementById("lightbox-img");
        const closeBtn = document.querySelector(".close-btn");
        const prevBtn = document.querySelector(".prev-btn");
        const nextBtn = document.querySelector(".next-btn");
        
        // Convert NodeList to Array for easier index navigation
        const images = Array.from(document.querySelectorAll(".gallery-item img"));
        let currentIndex = 0;

        // --- Functions ---

        function openLightbox(index) {
            modal.style.display = "block";
            modalImg.src = images[index].src;
            currentIndex = index;
            document.body.style.overflow = 'hidden'; // Disable background scroll
        }

        function closeLightbox() {
            modal.style.display = "none";
            document.body.style.overflow = 'auto'; // Re-enable scroll
        }

        function showNext() {
            currentIndex = (currentIndex + 1) % images.length; // Loops to start
            modalImg.src = images[currentIndex].src;
        }

        function showPrev() {
            currentIndex = (currentIndex - 1 + images.length) % images.length; // Loops to end
            modalImg.src = images[currentIndex].src;
        }

        // --- Event Listeners ---

        // Open on image click
        images.forEach((img, index) => {
            img.addEventListener('click', () => openLightbox(index));
        });

        // Close events
        closeBtn.addEventListener('click', closeLightbox);
        
        // Close when clicking outside the image wrapper
        modal.addEventListener('click', function(e) {
            // Ensure we aren't clicking buttons or the image itself
            if (e.target === modal || e.target.classList.contains('lightbox-content-wrapper')) {
                 closeLightbox();
            }
        });

        // Navigation Button Clicks
        // We use e.stopPropagation() to stop the click from bubbling up to the modal background and closing it
        nextBtn.addEventListener('click', (e) => { e.stopPropagation(); showNext(); });
        prevBtn.addEventListener('click', (e) => { e.stopPropagation(); showPrev(); });


        // Keyboard Navigation
        document.addEventListener('keydown', function(e) {
            if (modal.style.display === "block") {
                if (e.key === "ArrowLeft") showPrev();
                else if (e.key === "ArrowRight") showNext();
                else if (e.key === "Escape") closeLightbox();
            }
        });
    </script>

</body>
</html>
