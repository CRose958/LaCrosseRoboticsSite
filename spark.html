<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click Spark Demo | Team 4054</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,200;1,200&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="/Images/favicon.png">

    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Demo Styles */
        .demo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60vh;
            background: #2a2a2a;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            margin-top: 20px;
        }
        
        .click-area {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }

        .instruction-text {
            color: #fff;
            font-size: 1.5rem;
            opacity: 0.7;
            pointer-events: none;
        }
        
        .spark-btn {
            background: #8f2b40;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.1s;
        }
        .spark-btn:active { transform: scale(0.95); }

        /* Keyframe for the spark animation */
        @keyframes spark-fade {
            0% { opacity: 1; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }
    </style>
</head>
<body class="about-dark">

    <header>
        <nav>
            <div class="logo"><a href="index.html">La Crosse <span>Robotics</span></a></div>
            <div class="menu-toggle" id="mobile-menu"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div>
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="calendar.html">Calendar</a></li>
                <li><a href="photos.html">Photos</a></li>
            </ul>
        </nav>
    </header>

    <div class="hero small">
        <div class="hero-content">
            <h1>Click Spark Animation</h1>
            <p>Recreating the ReactBits effect</p>
        </div>
    </div>

    <section>
        <div id="react-root"></div>
    </section>

    <footer id="contact">
        <h3>La Crosse Robotics | Team 4054</h3>
        <p>&copy; 2025 The Aeronauts. All Rights Reserved.</p>
    </footer>

    <script src="script.js" defer></script>

    <script type="text/babel">

        // --- THE CLICK SPARK COMPONENT ---
        const ClickSpark = ({
            sparkColor = '#fff',
            sparkSize = 10,
            sparkRadius = 20,
            sparkCount = 8,
            duration = 400,
            easing = 'ease-out',
            children
        }) => {
            const [sparks, setSparks] = React.useState([]);

            // Cleanup old sparks
            React.useEffect(() => {
                if (sparks.length > 0) {
                    const timer = setTimeout(() => {
                        setSparks((prev) => prev.slice(1));
                    }, duration);
                    return () => clearTimeout(timer);
                }
            }, [sparks, duration]);

            const handleClick = (e) => {
                const rect = e.currentTarget.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const newSpark = { id: Date.now(), x, y };
                setSparks((prev) => [...prev, newSpark]);
            };

            return (
                <div 
                    onClick={handleClick} 
                    style={{ position: 'relative', display: 'inline-block', width: '100%', height: '100%' }}
                >
                    {children}
                    
                    {/* SVG Overlay for Sparks */}
                    <svg
                        style={{
                            position: 'absolute',
                            top: 0,
                            left: 0,
                            width: '100%',
                            height: '100%',
                            pointerEvents: 'none',
                            overflow: 'visible'
                        }}
                    >
                        {sparks.map((spark) => (
                            <g key={spark.id} transform={`translate(${spark.x}, ${spark.y})`}>
                                {Array.from({ length: sparkCount }).map((_, i) => {
                                    const angle = (i * 360) / sparkCount;
                                    const rad = (angle * Math.PI) / 180;
                                    const x2 = Math.cos(rad) * sparkRadius;
                                    const y2 = Math.sin(rad) * sparkRadius;

                                    return (
                                        <line
                                            key={i}
                                            x1={0} y1={0}
                                            x2={x2} y2={y2}
                                            stroke={sparkColor}
                                            strokeWidth="2"
                                            strokeLinecap="round"
                                            style={{
                                                transformBox: 'fill-box',
                                                transformOrigin: 'center',
                                                animation: `spark-fade ${duration}ms ${easing} forwards`
                                            }}
                                        />
                                    );
                                })}
                            </g>
                        ))}
                    </svg>
                </div>
            );
        };

        // --- MAIN APP ---
        function App() {
            return (
                <div>
                    <h2>Try Clicking Below!</h2>
                    
                    {/* Example 1: Full Area Click */}
                    <div className="demo-container">
                        <ClickSpark 
                            sparkColor="#ffd700" 
                            sparkRadius={30} 
                            sparkCount={12} 
                            duration={600}
                        >
                            <div className="click-area">
                                <span className="instruction-text">Click anywhere in this box âœ¨</span>
                            </div>
                        </ClickSpark>
                    </div>

                    <br/><br/>

                    {/* Example 2: Button Click */}
                    <div style={{ textAlign: 'center', padding: '50px' }}>
                        <ClickSpark sparkColor="#8f2b40" sparkRadius={40} sparkCount={15}>
                            <button className="spark-btn">Click Me Too!</button>
                        </ClickSpark>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('react-root'));
        root.render(<App />);
    </script>
</body>
</html>